


<div *ngIf = "loading" class="mx-auto">
    <mat-spinner></mat-spinner>
</div>
<div *ngIf = "!loading" class="col">
    <div class="row">
        <div *ngIf = "canChange" class="col">
            <auto-complete #customerAuto type="customer" (optionSelected) = "customerSelected($event.option.value)"></auto-complete>
        </div>

        <div class="col">
            <mat-form-field *ngIf = "customer">
                <input matInput placeholder="Customer Name" readonly [(ngModel)] = "customer.name">
            </mat-form-field>
        </div>

        <div class="col">
            <mat-form-field *ngIf = "customer && customer.fullAddress">
                <input matInput placeholder="Customer Address" readonly [(ngModel)] = "customer.fullAddress.name">
            </mat-form-field>
        </div>

        <div class="col">
            <mat-form-field *ngIf = "customer">
                <input matInput placeholder="Land Holding" readonly [(ngModel)] = "customer.landHolding">
            </mat-form-field>
        </div>
        <div class="col">
            <button *ngIf = "!loading" mat-icon-button style="padding-top: 10px;"  (click) = "editCustomer()">
                <mat-icon>edit</mat-icon>
            </button>

        </div>
    </div>
    <div class="row">
      <mat-tab-group style="width: 100%;" mat-stretch-tabs>
        <mat-tab label = "Statistics">
          <div style="padding-top: 50px;">
            <voucher-stats #voucherStats style="width: 100%;" [vouchers] = "this.vouchers"></voucher-stats>
          </div>
        </mat-tab>
        <mat-tab label = "Sale History">
          <voucher-table #voucherTable [vouchers] = "vouchers"></voucher-table>
        </mat-tab>
        <mat-tab label="Crop Profile">

          <crop-profile-table #cropProfileTable></crop-profile-table>
        </mat-tab>

      </mat-tab-group>
    </div>


</div>


