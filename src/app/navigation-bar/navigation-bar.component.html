<!--
=========================================================
Material Dashboard - v2.1.2
=========================================================

Product Page: https://www.creative-tim.com/product/material-dashboard
Copyright 2020 Creative Tim (https://www.creative-tim.com)
Coded by Creative Tim

=========================================================
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. -->

  <div class="wrapper ">
    <div class="sidebar" data-color="purple" data-background-color="white" data-image="../assets/img/sidebar-1.jpg">
      <!--
        Tip 1: You can change the color of the sidebar using: data-color="purple | azure | green | orange | danger"

        Tip 2: you can also add an image using data-image tag
    -->
      <div class="logo">

        <a class="navibar-brand" href="#"><span>Agro</span>stop</a>
        

      </div>
      <div *ngIf = "isAdmin()" class="sidebar-wrapper">
        <ul class="nav">
          <li [ngClass]="url == 'home' ? 'nav-item active': 'nav-item'">
            <a class="nav-link" href="/home">
              <i class="material-icons">dashboard</i>
              <p>Dashboard</p>
            </a>
          </li>
          <li [ngClass]="url == 'users' ? 'nav-item active': 'nav-item'">
            <a class="nav-link" href="/users/userListView">
              <i class="material-icons">person</i>
              <p>Users</p>
            </a>
          </li>
          <li [ngClass]="url == 'customers' ? 'nav-item active': 'nav-item'">
            <a class="nav-link" href="/customers">
              <i class="material-icons">content_paste</i>
              <p>Customer</p>
            </a>
          </li>
          <li [ngClass]="url == 'sales' ? 'nav-item active': 'nav-item'">
            <a class="nav-link" href="/sales/day-book">
              <i class="material-icons">library_books</i>
              <p>Day Book</p>
            </a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="./sales/create-sales-voucher">
              <i class="material-icons">bubble_chart</i>
              <p>Voucher</p>
            </a>
          </li>
          <li [ngClass]="url == 'products' ? 'nav-item active': 'nav-item'">
            <a class="nav-link" href="/products">
              <i class="material-icons">location_ons</i>
              <p>Products</p>
            </a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="orders">
              <i class="material-icons">Order</i>
              <p>Orders</p>
            </a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="complaints">
              <i class="material-icons">notifications</i>
              <p>Notifications</p>
            </a>
          </li>
        </ul>
      </div>





      <!--USER NAVBAR-->

      <div *ngIf = "isCompanyUser()" class="sidebar-wrapper">
        <ul class="nav">
          <li [ngClass]="url == 'home' ? 'nav-item active': 'nav-item'">
            <a class="nav-link" href="/home">
              <i class="material-icons">dashboard</i>
              <p>Dashboard</p>
            </a>
          </li>
          
          <li [ngClass]="url == 'sales' ? 'nav-item active': 'nav-item'">
            <a class="nav-link" href="/sales/day-book">
              <i class="material-icons">library_books</i>
              <p>Day Book</p>
            </a>
          </li>
          <li [ngClass]="url == 'sales' ? 'nav-item active': 'nav-item'">
            <a class="nav-link" href="/sales/cash-book">
              <i class="material-icons">library_books</i>
              <p>Cash Book</p>
            </a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="./sales/create-sales-voucher">
              <i class="material-icons">bubble_chart</i>
              <p>Voucher</p>
            </a>
          </li>
          
          <li [ngClass]="url == 'products' ? 'nav-item active': 'nav-item'">
            <a class="nav-link" href="/stock-check">
              <i class="material-icons">location_ons</i>
              <p>Stock Check</p>
            </a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="orders">
              <i class="material-icons">Order</i>
              <p>Orders</p>
            </a>
          </li>
          
          
        </ul>
      </div>





    </div>







    <div class="main-panel">
      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">
        <div class="container-fluid">
          <!-->div class="navbar-wrapper">
            <a class="navbar-brand" href="javascript:;">Dashboard</a>
          </div-->
          <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
          </button>
          <div class="collapse navbar-collapse justify-content-end">
            <form class="navbar-form">
              <div class="input-group no-border">
                <span>{{currentUser.name | uppercase}}</span>
              </div>
            </form>
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link" href="javascript:;">
                  <i class="material-icons">dashboard</i>
                  <p class="d-lg-none d-md-block">
                    Stats
                  </p>
                </a>
              </li>
              <li class="nav-item dropdown">
    
                <button mat-icon-button (click) = "updateDatabaseStats()" [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
                  <mat-icon>sync</mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                  <div mat-menu-item>
              
                    <span>Quick Sync</span>
                    <button style="float: right;" mat-icon-button (click) = "databaseService.initialSync()"> 
                      <mat-icon>sync</mat-icon>
                    </button>
                  </div>
                  <div mat-menu-item>
              
                    <span>Ledger Quick Sync</span>
                    <button style="float: right;" mat-icon-button (click) = "databaseService.ledgerQuickSync()"> 
                      <mat-icon>sync</mat-icon>
                    </button>
                  </div>
                  <div mat-menu-item>
              
                    <span>Items Quick Sync</span>
                    <button style="float: right;" mat-icon-button (click) = "databaseService.itemsQuickSync()"> 
                      <mat-icon>sync</mat-icon>
                    </button>
                  </div>
                  <div mat-menu-item>
              
                    <span>VoucherType Quick Sync</span>
                    <button style="float: right;" mat-icon-button (click) = "databaseService.vouchertypeQuickSync()"> 
                      <mat-icon>sync</mat-icon>
                    </button>
                  </div>
                  <div mat-menu-item>
              
                    <span>Batches Quick Sync</span>
                    <button style="float: right;" mat-icon-button (click) = "databaseService.batchesQuickSync()"> 
                      <mat-icon>sync</mat-icon>
                    </button>
                  </div>
                  <span mat-menu-item style = "width: 300px; height: 50px;">
                    
                    <span style="float: left;">{{numberOfStockItems}} Stock Items</span>
                    <button style="float: right;" mat-icon-button (click) = "databaseService.sendRequestForItems()"> 
                      <mat-icon>sync</mat-icon>
                    </button>
                    
                  </span>
                  <div mat-menu-item>
                 
                    <span>{{numberOfLedgers}} Ledgers</span>
                    <button style="float: right;" mat-icon-button (click) = "databaseService.sendRequestForAllLedgers();"> 
                      <mat-icon>sync</mat-icon>
                    </button>
                  </div>
                  <div mat-menu-item>
              
                    <span>{{numberOfCustomers}} Customers</span>
                    <button style="float: right;" mat-icon-button (click) = "databaseService.saveCustomers()"> 
                      <mat-icon>sync</mat-icon>
                    </button>
                  </div>
                  <div mat-menu-item>
              
                    <span>{{numberOfAddresses}} Addresses</span>
                    <button style="float: right;" mat-icon-button (click) = "databaseService.saveAddresses()"> 
                      <mat-icon>sync</mat-icon>
                    </button>
                  </div>
                  <div mat-menu-item>
              
                    <span>{{numberOfVoucherTypes}} Voucher Types</span>
                    <button style="float: right;" mat-icon-button (click) = "databaseService.sendAllVoucherTypeRequests()"> 
                      <mat-icon>sync</mat-icon>
                    </button>
                  </div>
                  <div mat-menu-item>
              
                    <span>{{numberOfBatches}} Batches</span>
                    <button style="float: right;" mat-icon-button (click) = "databaseService.sendRequestForBatches()"> 
                      <mat-icon>sync</mat-icon>
                    </button>
                  </div>
                  <div mat-menu-item>
              
                    <span>{{numberOfVouchers}} Offline Vouchers</span>
                    <button style="float: right;" mat-icon-button (click) = "this.databaseService.syncAllCacheVouchers()"> 
                      <mat-icon>sync</mat-icon>
                    </button>
                  </div>
                  
                  <div mat-menu-item>
              
                    <span>{{numberOfPrintCOnf}} Print Configurations</span>
                    
                  </div>
                  <button mat-menu-item (click) = "deleteDatabase()">Delete local database</button>
                  <button mat-menu-item (click) = "this.databaseService.enablePOSMode()">Sync Database</button>

                </mat-menu>
              </li>
              <li class="nav-item dropdown">
                <button mat-icon-button [matMenuTriggerFor]="profileMenu" aria-label="Example icon-button with a menu">
                  <mat-icon>person</mat-icon>
                </button>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownProfile">
                  <mat-menu #profileMenu="matMenu">
                    <button mat-menu-item>
                      <mat-icon>perm_identity</mat-icon>
                      <span>Profile</span>
                    </button>
                    <button mat-menu-item (click) = "logout()">
                      <mat-icon>exit_to_app</mat-icon>
                      <span>Log Out</span>
                    </button>

                  </mat-menu>
                </div>
              </li>
            </ul>
          </div>
        </div>
        
      </nav>
      <div class="mx-auto" style="width: 80%">
        <mat-progress-bar mode = "indeterminate" *ngIf = "!databaseService.syncingOver()"></mat-progress-bar>
      </div>
      
      <!-- End Navbar -->
      
        <ng-content>

        </ng-content>
        
    
    </div>
    
  </div>

